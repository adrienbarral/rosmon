<?xml version="1.0" encoding="UTF-8"?>
<launch>
	<node pkg="rosmon_diagnostics" type="rosmon_diagnostics_node" name="rosmon_diagnostics">
		<param name="diagnostics_prefix" value="procs_"/>
		<rosparam>
defaultMemoryLimit_byte: '30 MB'
defaultCPULimit: 0.1
        </rosparam>
        <remap from="rosmon_state" to="/rosmon/state"/>
	</node>
	<node pkg="rosmon_diagnostics" type="node_for_test" name="node_crash"/>
	<node pkg="rosmon_diagnostics" type="node_for_test" name="node_high_memory"/>
	<node pkg="rosmon_diagnostics" type="node_for_test" name="node_high_cpu"/>
	<node pkg="rosmon_diagnostics" type="node_for_test" name="node_restart_count" respawn="true"/>
	<node pkg="diagnostic_aggregator" type="aggregator_node" name="diag_agg" >
  		<rosparam command="load" file="$(find rosmon_diagnostics)/test/analyzers.yaml" />
	</node>
</launch>